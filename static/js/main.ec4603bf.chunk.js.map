{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageError/ImageError.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/Button/Button.module.css","components/Container/Contaiter.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","image/error.png","components/ImageError/ImageError.js","components/Loader/Loader.js","services/Pixabay-api.js","components/Modal/Modal.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","s","container","Searchbar","onSearch","useState","imageName","setImageName","onSubmit","e","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","ImageGalleryItem","src","alt","url","openModal","ImageGalleryItemImage","onClick","ImageError","message","role","errorText","errorImg","imageLoader","color","height","width","timeout","api","fetchImage","query","page","fetch","then","response","ok","json","Promise","reject","Error","Modal","onClose","modalRoot","document","querySelector","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","LoadMoreButton","handleLoadMore","Button","protoTypes","PropTypes","func","isRequired","Status","ImageGallery","images","setImages","setPage","setError","showModal","setShowModal","modalImgProps","setModalImgProps","status","setStatus","reset","fetchQuery","pixabayAPI","hits","length","catch","scrollDown","setTimeout","scrollTo","top","body","scrollHeight","left","behavior","toggleModal","handleImgClick","props","modalImage","map","id","webformatURL","tags","largeImageURL","App","autoClose","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ec4603bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3-2av\",\"modalImage\":\"ImageGallery_modalImage___skgY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3lRiq\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1hHTP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ImageError_error__31IqF\",\"errorText\":\"ImageError_errorText__29v3s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__o8vT2\",\"Modal\":\"Modal_Modal__W-uoW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__l3s1t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3-F_o\"};","import s from './Container.module.css';\n// import PropTypes from 'prop-types';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\n// Container.propTypes = {\n//   children: PropTypes.node.isRequired,\n// };\n","import s from './Searchbar.module.css';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nexport default function Searchbar({ onSearch }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleNameChange = e => {\n    setImageName(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (imageName.trim() === '') {\n      toast.error('Empty request !');\n      return;\n    }\n\n    onSearch(imageName);\n\n    setImageName('');\n  };\n\n  return (\n    <div>\n      <header className={s.Searchbar}>\n        <form onSubmit={handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"imageName\"\n            value={imageName}\n            onChange={handleNameChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ src, alt, url, openModal }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        className={s.ImageGalleryItemImage}\n        onClick={() => openModal({ url, alt })}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/error.e54d93f1.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport errorImg from '../../image/error.png';\nimport s from './ImageError.module.css';\n\nexport default function ImageError({ message }) {\n  return (\n    <div className={s.error} role=\"alert\">\n      <p className={s.errorText}>{message}</p>{' '}\n      <img src={errorImg} alt=\"empty\" />\n    </div>\n  );\n}\n\nImageError.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function imageLoader() {\n  return (\n    <Loader\n      type=\"ThreeDots\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n}\n","const KEY = '23678753-e5ed32ac33839f4375f02d880';\nconst BASE_URL = 'https://pixabay.com/api';\n\nfunction fetchImage(query, page) {\n  const url = `${BASE_URL}/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(\n      new Error(`Изображение с именем ${query} отсутствует`),\n    );\n  });\n}\n\nconst api = {\n  fetchImage,\n};\n\nexport default api;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nexport default function Modal({ onClose, children }) {\n  const modalRoot = document.querySelector('#modal-root');\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function LoadMoreButton({ handleLoadMore }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={() => handleLoadMore()}>\n      Load more\n    </button>\n  );\n}\n\nLoadMoreButton.protoTypes = {\n  handleLoadMore: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/';\nimport ImageError from '../ImageError';\nimport Loader from '../Loader';\nimport pixabayAPI from '../../services/Pixabay-api';\nimport Modal from '../Modal';\nimport Button from '../Button';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function ImageGallery({ imageName }) {\n  const [images, setImages] = useState(null);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [modalImgProps, setModalImgProps] = useState({ url: '', alt: '' });\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n    reset();\n    setStatus(Status.PENDING);\n    fetchQuery(imageName);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [imageName]);\n\n  const fetchQuery = imageName => {\n    pixabayAPI\n      .fetchImage(imageName, page)\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          return Promise.reject(\n            new Error(`The image with name << ${imageName} >> is missing `),\n          );\n        }\n\n        setImages(images => [...images, ...hits]);\n        setPage(page => page + 1);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n    scrollDown();\n  };\n\n  const scrollDown = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        left: 0,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  const handleLoadBtnClick = () => {\n    fetchQuery(imageName);\n  };\n\n  const reset = () => {\n    setPage(1);\n    setImages([]);\n  };\n\n  const toggleModal = () => {\n    setShowModal(showModal => !showModal);\n  };\n  //*\n\n  const handleImgClick = props => {\n    setModalImgProps(modalImgProps => props);\n    toggleModal();\n  };\n\n  if (status === Status.IDLE) {\n    return <div>Please enter the image title</div>;\n  }\n\n  if (status === Status.PENDING) {\n    return <Loader />;\n  }\n\n  if (status === Status.REJECTED) {\n    return <ImageError message={error.message} />;\n  }\n\n  if (status === Status.RESOLVED) {\n    return (\n      <div>\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img\n              src={modalImgProps.url}\n              alt={modalImgProps.alt}\n              className={s.modalImage}\n            />\n          </Modal>\n        )}\n        <ul className={s.ImageGallery}>\n          {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n            <ImageGalleryItem\n              key={id}\n              src={webformatURL}\n              url={largeImageURL}\n              alt={tags}\n              openModal={handleImgClick}\n            />\n          ))}\n        </ul>\n        <Button handleLoadMore={handleLoadBtnClick} />\n      </div>\n    );\n  }\n}\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nexport default function App() {\n  const [imageName, setImageName] = useState('');\n\n  return (\n    <Container>\n      <Searchbar onSearch={setImageName} />\n      <ImageGallery imageName={imageName} />\n      <ToastContainer autoClose={3000} theme=\"colored\" />\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3-Iep\",\"SearchForm\":\"Searchbar_SearchForm__ePhlF\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2xxiD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3abaf\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3zCUF\"};"],"sourceRoot":""}